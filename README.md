# 📸 Slide Rectifier Web (投影片自動拉正神器)

這是一個純前端的網頁工具，使用 **OpenCV.js** 自動偵測照片中的投影片、投影幕或文件，將其拉正（Perspective Correction）、裁切，並修正為標準 4:3 比例。

特別針對 **iOS Safari** 與行動裝置進行優化，支援批次處理、自動去黑邊，並可匯出為 PDF 或直接儲存至手機相簿。

🚀 **[點此開啟線上試用](https://你的帳號.github.io/你的Repo名稱/)** (請替換為您的 GitHub Pages 網址)

## ✨ 主要功能

* **完全離線處理**：所有運算皆在瀏覽器端（Client-side）完成，照片**不會**上傳至任何伺服器，確保隱私安全。
* **自動拉正與裁切**：
    * 自動識別畫面中最大的四邊形（螢幕）。
    * 使用透視變換（Perspective Transform）將傾斜的畫面拉正。
    * 強制輸出 **4:3 標準比例**，避免畫面變形。
* **智慧去黑邊**：提供「裁切滑桿」，可微調內縮範圍，完美去除投影幕邊緣的暗角或黑邊。
* **批次高效處理**：
    * 支援一次選取多張照片。
    * 採用佇列（Queue）機制逐張處理，防止手機瀏覽器崩潰。
* **多元匯出方式**：
    * **📄 下載 PDF**：將所有處理好的投影片合併為單一份 PDF 文件。
    * **📤 系統分享 (iOS/Android)**：呼叫手機原生分享選單，可一次將多張圖片儲存至「相簿」或「檔案」。
    * **💾 單張下載**：亦可單獨下載特定圖片。

## 📱 iOS / 行動裝置優化

本專案特別解決了行動網頁版常見的效能問題：
* **記憶體管理**：手動管理 OpenCV.js 的記憶體釋放，避免連續處理大量 1200 萬畫素照片時導致頁面當機。
* **尺寸限制**：自動偵測並縮放過大的圖片（限制長邊 2000px），符合 iOS Safari Canvas 限制。
* **防凍結 UI**：使用非同步渲染，確保處理過程中進度條流暢顯示。

## 🚀 如何使用

1.  開啟網頁。
2.  **設定裁切程度**：上方滑桿預設為 3%，若照片黑邊較多可調高至 5-8%。
3.  點擊 **「📂 選擇照片」**，選取一張或多張投影片照片。
4.  等待處理完成（視手機效能而定，通常每張約 1-2 秒）。
5.  處理完成後，選擇 **「📄 下載 PDF」** 或 **「📤 儲存所有圖片」**。

## ⚠️ 注意事項

* **背景對比度**：為了達到最佳偵測效果，拍攝時請確保投影幕邊緣與背景有足夠的對比度（例如：亮螢幕 vs 暗牆壁）。
* **系統分享功能**：`navigator.share` API (綠色分享按鈕) 僅在 **HTTPS** 環境或 `localhost` 下運作，且主要支援行動裝置瀏覽器 (Safari/Chrome Mobile)。
