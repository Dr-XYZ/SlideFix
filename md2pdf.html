<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MD2PDF</title>
    
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$']] },
            svg: { fontCache: 'global' },
            startup: { typeset: false }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
    
    <style>
        /* --- å…¨å±€è®Šæ•¸ --- */
        :root { --primary: #009688; --gray: #f0f2f5; --border: #dcdcdc; }
        
        /* --- è¢å¹•é¡¯ç¤ºæ¨£å¼ (Screen Style) --- */
        body { 
            margin: 0; display: flex; flex-direction: column; height: 100vh; 
            font-family: 'Segoe UI', sans-serif; background: var(--gray); overflow: hidden;
        }
        
        header { 
            background: var(--primary); color: white; padding: 0 20px; height: 60px;
            display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .main-container { display: flex; flex: 1; height: calc(100vh - 60px); }
        
        .pane { width: 50%; display: flex; flex-direction: column; border-right: 1px solid var(--border); }
        
        .pane-label {
            background: #e0e0e0; padding: 5px 15px; font-size: 12px; font-weight: bold; color: #555;
            text-transform: uppercase; letter-spacing: 1px;
        }

        textarea {
            flex: 1; padding: 20px; resize: none; border: none; outline: none;
            font-family: 'Consolas', monospace; font-size: 14px; line-height: 1.5; background: #fafafa;
        }

        #preview-scroll { flex: 1; padding: 30px; overflow-y: auto; background: white; }

        /* --- æ–‡ä»¶çš„æ ¸å¿ƒæ¨£å¼ (Markdown å…§å®¹) --- */
        #content { max-width: 800px; margin: 0 auto; color: #333; line-height: 1.6; }
        
        /* è¡¨æ ¼é—œéµæ¨£å¼ */
        table { 
            width: 100%; border-collapse: collapse; margin: 20px 0; 
            border: 2px solid #333; /* å¤–æ¡†åŠ ç²— */
        }
        th, td { border: 1px solid #888; padding: 8px 12px; text-align: left; }
        th { background-color: #f2f2f2; border-bottom: 2px solid #333; font-weight: bold; }
        tr:nth-child(even) { background-color: #f9f9f9; }

        h1, h2, h3 { color: #2c3e50; border-bottom: 1px solid #eee; padding-bottom: 0.3em; margin-top: 1.5em; }
        code { background: #eee; padding: 2px 5px; border-radius: 3px; font-family: monospace; color: #d63384; }
        pre { background: #282c34; color: #abb2bf; padding: 15px; border-radius: 5px; overflow-x: auto; page-break-inside: avoid; }
        blockquote { border-left: 4px solid var(--primary); padding-left: 15px; color: #666; background: #f9f9f9; margin: 10px 0; }
        img { max-width: 100%; height: auto; }

        /* æŒ‰éˆ•æ¨£å¼ */
        .btn {
            background: white; color: var(--primary); border: none; padding: 8px 16px;
            border-radius: 4px; font-weight: bold; cursor: pointer; text-decoration: none; display: inline-block;
        }
        .btn:hover { background: #e0f2f1; }

        /* --- ğŸ–¨ï¸ é—œéµï¼šåˆ—å°æ¨¡å¼ (Print Mode) --- 
           ç•¶ç”¨æˆ¶æŒ‰ä¸‹ Ctrl+P æˆ–é»æ“ŠæŒ‰éˆ•æ™‚ï¼ŒCSS æœƒè®Šæˆé€™æ¨£
        */
        @media print {
            /* éš±è—ä»‹é¢å…ƒç´  */
            header, .pane-label, .pane:first-child, ::-webkit-scrollbar { 
                display: none !important; 
            }

            /* é‡ç½®ä½ˆå±€ */
            body, .main-container, .pane, #preview-scroll { 
                height: auto; overflow: visible; display: block; background: white; margin: 0; padding: 0;
            }

            /* é è¦½å€ä½”æ»¿å…¨ç‰ˆ */
            .pane { width: 100%; border: none; }
            #preview-scroll { padding: 0; }
            #content { max-width: 100%; margin: 0; }

            /* â˜…â˜…â˜… æ ¸å¿ƒé­”æ³•ï¼šè¡¨æ ¼åˆ†é è¨­å®š â˜…â˜…â˜… */
            table { page-break-inside: auto; }
            tr    { page-break-inside: avoid; page-break-after: auto; }
            thead { display: table-header-group; } /* é€™è¡ŒæŒ‡ç¤ºç€è¦½å™¨åœ¨æ¯ä¸€é é‡è¤‡è¡¨é ­ */
            tfoot { display: table-footer-group; }
            
            /* å…¶ä»–åˆ†é æ§åˆ¶ */
            h1, h2, h3 { page-break-after: avoid; } /* æ¨™é¡Œå¾Œä¸æ›é  */
            pre, blockquote, img, mjx-container { page-break-inside: avoid; } /* å…§å®¹ä¸åˆ‡æ–· */

            /* è¨­å®šç´™å¼µé‚Šè· (éš±è—ç€è¦½å™¨é è¨­é çœ‰é å°¾) */
            @page {
                margin: 20mm;
                size: A4;
            }
        }
    </style>
</head>
<body>
    <header>
        <div style="font-size: 1.2rem; font-weight: bold;">MD2PDF å°ˆæ¥­ç‰ˆ (é‡è¤‡è¡¨é ­)</div>
        <button class="btn" onclick="window.print()">ğŸ–¨ï¸ åˆ—å° / å¦å­˜ PDF</button>
    </header>

    <div class="main-container">
        <div class="pane">
            <div class="pane-label">Markdown Editor</div>
            <textarea id="editor"># é•·è¡¨æ ¼æ¸¬è©¦

é€™å€‹ç¯„ä¾‹å±•ç¤ºäº†ã€ŒåŸç”Ÿåˆ—å°ã€å¦‚ä½•è™•ç†è·¨é è¡¨é ­é‡è¤‡ã€‚

## è²¡å‹™å ±è¡¨ (é•·è¡¨æ ¼)

è«‹æ³¨æ„ï¼šç•¶è¡¨æ ¼è·¨è¶Šåˆ°ç¬¬äºŒé æ™‚ï¼Œ**è¡¨é ­ (é …ç›®/æ•¸å€¼/å‚™è¨»)** æœƒè‡ªå‹•é‡è¤‡é¡¯ç¤ºã€‚

| é …ç›® (ID) | æ•¸å€¼ (Value) | å‚™è¨» (Notes) | ç‹€æ…‹ (Status) |
| :--- | :--- | :--- | :--- |
| Data 001 | $1,000 | é€™æ˜¯æ¸¬è©¦æ•¸æ“š | âœ… OK |
| Data 002 | $2,500 | è‡ªå‹•åˆ†é æ¸¬è©¦ | âœ… OK |
| Data 003 | $3,200 | æ•¸å­¸å…¬å¼ $\sqrt{x}$ | âš ï¸ Low |
| Data 004 | $4,100 | é‡è¤‡è¡¨é ­æ¸¬è©¦ | âœ… OK |
| Data 005 | $5,000 | æ‡‰è©²åœ¨ç¬¬ä¸€é  | âœ… OK |
| Data 006 | $1,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 007 | $2,500 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 008 | $3,200 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âš ï¸ Low |
| Data 009 | $4,100 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 010 | $5,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 011 | $1,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 012 | $2,500 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 013 | $3,200 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âš ï¸ Low |
| Data 014 | $4,100 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 015 | $5,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 016 | $1,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 017 | $2,500 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 018 | $3,200 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âš ï¸ Low |
| Data 019 | $4,100 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 020 | $5,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 021 | $1,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 022 | $2,500 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 023 | $3,200 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âš ï¸ Low |
| Data 024 | $4,100 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 025 | $5,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 026 | $1,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 027 | $2,500 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 028 | $3,200 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âš ï¸ Low |
| Data 029 | $4,100 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 030 | $5,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 031 | $1,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 032 | $2,500 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 033 | $3,200 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âš ï¸ Low |
| Data 034 | $4,100 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 035 | $5,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 036 | $1,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 037 | $2,500 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 038 | $3,200 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âš ï¸ Low |
| Data 039 | $4,100 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |
| Data 040 | $5,000 | æ¸¬è©¦æ•¸æ“šå¡«å…… | âœ… OK |

## ç‰©ç†å…¬å¼

$$
F = G \frac{m_1 m_2}{r^2}
$$
            </textarea>
        </div>
        
        <div class="pane">
            <div class="pane-label">Live Preview</div>
            <div id="preview-scroll">
                <div id="content"></div>
            </div>
        </div>
    </div>

    <script>
        const editor = document.getElementById('editor');
        const content = document.getElementById('content');
        let mathCache = {};

        // æ•¸å­¸å…¬å¼ä¿è­·èˆ‡é‚„åŸé‚è¼¯
        function escapeMath(text) {
            mathCache = {}; let i = 0;
            text = text.replace(/\$\$([\s\S]*?)\$\$/g, (m, t) => { mathCache[`MB_${i}`] = {t, d:true}; return `MB_${i++}`; });
            text = text.replace(/\$([^\$\n]+?)\$/g, (m, t) => { mathCache[`MI_${i}`] = {t, d:false}; return `MI_${i++}`; });
            return text;
        }

        function restoreMath(html) {
            for (let k in mathCache) html = html.replace(k, mathCache[k].d ? `$$${mathCache[k].t}$$` : `$${mathCache[k].t}$`);
            return html;
        }

        // æ¸²æŸ“å‡½æ•¸
        function render() {
            let md = editor.value;
            md = escapeMath(md);
            // è®“ marked è§£æè¡¨æ ¼
            let html = marked.parse(md);
            html = restoreMath(html);
            content.innerHTML = html;
            
            // è§¸ç™¼ MathJax
            if(window.MathJax && window.MathJax.typesetPromise) {
                window.MathJax.typesetPromise([content]).catch(()=>{});
            }
        }

        editor.addEventListener('input', render);
        // åˆå§‹åŒ–
        render();
    </script>
</body>
</html>
